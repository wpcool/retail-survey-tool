<!-- ä¸ªäººä¸­å¿ƒé¡µé¢ -->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <view class="user-avatar">
      {{userInfo.name ? userInfo.name.charAt(0) : '?'}}
    </view>
    <view class="user-info">
      <view class="user-name">{{userInfo.name || 'æœªç™»å½•'}}</view>
      <view class="user-role">è°ƒç ”å‘˜</view>
      <view class="user-id" wx:if="{{userInfo.id}}">ID: {{userInfo.id}}</view>
    </view>
  </view>

  <!-- è¿‘7å¤©è°ƒç ”è¶‹åŠ¿ -->
  <view class="section-card" wx:if="{{last7Days.length > 0}}">
    <view class="section-title">
      <text class="title-icon">ğŸ“Š</text>
      è¿‘7å¤©è°ƒç ”è¶‹åŠ¿
    </view>
    <view class="days-list">
      <view class="day-item" wx:for="{{last7Days}}" wx:key="date">
        <view class="day-date">{{item.date}}</view>
        <view class="day-bar-container">
          <view class="day-bar" style="width: {{item.count > 20 ? 100 : item.count * 5}}%;"></view>
        </view>
        <view class="day-count">{{item.count}}æ¡</view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘è°ƒç ”è®°å½• -->
  <view class="section-card">
    <view class="section-header">
      <view class="section-title">
        <text class="title-icon">ğŸ“</text>
        æœ€è¿‘è°ƒç ”è®°å½•
      </view>
      <text class="view-all" bindtap="viewAllRecords">æŸ¥çœ‹å…¨éƒ¨ ></text>
    </view>
    
    <view class="records-list" wx:if="{{recentRecords.length > 0}}">
      <view class="record-item" wx:for="{{recentRecords}}" wx:key="id" bindtap="viewRecordDetail" data-id="{{item.id}}">
        <view class="record-left">
          <view class="record-date">
            <text class="date-day">{{item.date.slice(8, 10)}}</text>
            <text class="date-month">{{item.date.slice(5, 7)}}æœˆ</text>
          </view>
        </view>
        <view class="record-content">
          <view class="record-product">
            <text class="product-category">{{item.category}}</text>
            <text class="product-name">{{item.product_name}}</text>
          </view>
          <view class="record-store">{{item.store_name}}</view>
          <view class="record-meta">
            <text class="record-time">{{item.time}}</text>
            <text class="record-price">Â¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <view class="empty-state" wx:else>
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">æš‚æ— è°ƒç ”è®°å½•</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-title">è®¾ç½®</view>
    <view class="menu-list">
      <view class="menu-item" bindtap="openAbout">
        <view class="menu-left">
          <view class="menu-icon icon-about">â„¹ï¸</view>
          <text class="menu-text">å…³äº</text>
        </view>
        <view class="menu-right">
          <text class="menu-arrow">â€º</text>
        </view>
      </view>
      
      <view class="menu-item logout" bindtap="logout">
        <view class="menu-left">
          <view class="menu-icon icon-logout">ğŸšª</view>
          <text class="menu-text">é€€å‡ºç™»å½•</text>
        </view>
        <view class="menu-right">
          <text class="menu-arrow">â€º</text>
        </view>
      </view>
    </view>
  </view>
</view>